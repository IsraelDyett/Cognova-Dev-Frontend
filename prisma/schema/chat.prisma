model Chat {
    id             String       @id @default(uuid())
    conversationId String
    conversation   Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)
    role           String
    content        String       @db.Text
    tokens         Int
    feedback       ChatFeedback @default(NONE)
    sourceURLs     String[]
    createdAt      DateTime     @default(now())
    updatedAt      DateTime     @updatedAt

    @@map("chats")
}

model Conversation {
    id                String   @id @default(uuid())
    botId             String
    bot               Bot      @relation(fields: [botId], references: [id], onDelete: Cascade)
    browser           String?
    os                String?
    device            String?
    countryCode       String?
    generatedCategory String?
    createdAt         DateTime @default(now())
    updatedAt         DateTime @updatedAt
    chats             Chat[]

    @@map("conversations")
}
