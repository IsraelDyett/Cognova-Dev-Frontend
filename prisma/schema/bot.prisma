model Bot {
  id                 String            @id @default(cuid())
  workspaceId        String
  name               String
  description        String?
  language           String?
  systemMessage      String?
  placeholderMessage String?
  welcomeMessage     String?
  starterQuestions   String[]
  modelId            String?
  createdAt          DateTime          @default(now())
  updatedAt          DateTime          @updatedAt
  configurations     BotConfiguration?
  sources            BotSources[]
  model              Model?            @relation(fields: [modelId], references: [id], onDelete: SetNull)
  workspace          Workspace         @relation(fields: [workspaceId], references: [id], onDelete: Cascade)
  conversations      Conversation[]
  business           Business?         @relation(fields: [businessId], references: [id])
  businessId         String?

  @@map("bots")
}

model BotConfiguration {
  id                 String   @id @default(cuid())
  botId              String   @unique
  avatarURL          String?
  uMessageColor      String?
  aMessageColor      String?
  fontId             String
  showSources        Boolean
  sendButtonText     String?
  customCSS          String?
  embedAngle         String?
  embedWidgetSize    String?
  embedWidgetIconURL String?
  embedAutoOpen      Boolean?
  embedPingMessage   String?
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
  botChatAvatarURL   String?
  bot                Bot      @relation(fields: [botId], references: [id], onDelete: Cascade)

  @@map("bot_configuration")
}

model BotSources {
  id        String   @id @default(cuid())
  botId     String
  sourceId  String
  createdAt DateTime @default(now())
  bot       Bot      @relation(fields: [botId], references: [id], onDelete: Cascade)
  source    Source   @relation(fields: [sourceId], references: [id], onDelete: Cascade)

  @@map("bot_sources")
}
